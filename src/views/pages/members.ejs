<div class="page-wrapper">
  <!-- start preloader -->
  <%- include('../components/ui/preloader') %>
  <!-- end preloader -->
  <!-- Start header -->
  <%- include('../components/ui/header') %>
  <!-- end of header -->

  <!-- start wpo-page-title -->
  <section class="wpo-page-title">
    <div class="container">
      <div class="row">
        <div class="col col-xs-12">
          <div class="wpo-breadcumb-wrap">
            <h2><%= title %></h2>
            <ol class="wpo-breadcumb-wrap">
              <li><a href="/">Home</a></li>
              <li><%= title %></li>
            </ol>
          </div>
        </div>
      </div>
      <!-- end row -->
    </div>
    <!-- end container -->
  </section>
  <!-- end page-title -->

  <!-- start wpo-team-section -->
  <section class="wpo-team-section section-padding">
    <div class="shepe-1">
      <svg width="932" height="1073" viewBox="0 0 932 1073" fill="none">
        <g filter="url(#filter0_f_107_138)">
          <path
            d="M543.5 400L577.289 503.993L686.634 503.993L598.172 568.264L631.962 672.257L543.5 607.986L455.038 672.257L488.828 568.264L400.366 503.993L509.711 503.993L543.5 400Z"
          />
        </g>
        <defs>
          <filter
            id="filter0_f_107_138"
            x="0.365967"
            y="0"
            width="1086.27"
            height="1072.26"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="BackgroundImageFix"
              result="shape"
            />
            <feGaussianBlur
              stdDeviation="200"
              result="effect1_foregroundBlur_107_138"
            />
          </filter>
        </defs>
      </svg>
    </div>
    <div class="container">
      <div class="row">
        <div class="col col-xs-12">
          <div class="wpo-section-title">
            <span
              ><i class="fa fa-plus" aria-hidden="true"></i> TEAM MEMBERS
              <i class="fa fa-plus" aria-hidden="true"></i
            ></span>
            <h2>Awesome Problem Solver</h2>
          </div>
        </div>
      </div>
      <div class="team-grids">
        <!-- content -->
        <div class="card content p-4 h-fit">
          <table class="table">
            <thead>
              <tr>
                <th scope="col" class="image">#</th>
                <th scope="col" class="text-center">Email</th>
                <th scope="col" class="text-center">Nama</th>
                <th scope="col" class="text-center">Status</th>
                <th scope="col" class="text-center">Aksi</th>
              </tr>
            </thead>
            <tbody>
              <% users.forEach(element => { %>
              <tr>
                <th class="image">
                  <img
                    src="<%= element.photo %>"
                    alt="team member"
                    class="team-member"
                  />
                </th>
                <td><%= element.email %></td>
                <td><%= element.nama %></td>
                <td>
                  <span
                    class="badge rounded-pill <%= element.status == 'active' ? 'bg-success' : 'bg-danger' %>"
                    ><%= element.status %></span
                  >
                </td>
                <td>
                  <a
                    class="btn btn-sm btn-primary"
                    href="/profile/<%= element.id %>"
                    >Detail</a
                  >
                </td>
              </tr>

              <% }) %>
            </tbody>
          </table>
          <nav aria-label="Page navigation example">
            <ul class="pagination">
              <!-- Previous Button -->
              <li class="page-item <%= currentPage === 1 ? 'disabled' : '' %>">
                <a
                  class="page-link"
                  href="?page=<%= currentPage - 1 %>"
                  tabindex="-1"
                  >Previous</a
                >
              </li>

              <!-- Page Numbers -->
              <% for (let i = 1; i <= totalPages; i++) { %>
              <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                <a class="page-link" href="?page=<%= i %>"><%= i %></a>
              </li>
              <% } %>

              <!-- Next Button -->
              <li
                class="page-item <%= currentPage === totalPages ? 'disabled' : '' %>"
              >
                <a class="page-link" href="?page=<%= currentPage + 1 %>"
                  >Next</a
                >
              </li>
            </ul>
          </nav>
        </div>
        <!-- sidebar -->
        <div class="card p-4 sidebar">
          <div class="w-100 d-flex justify-content-center toggle-filter">
            <div role="button" class="d-flex gap-3 align-items-center w-100 button-toggle-filter">
              <hr class="w-100">
              <span class="text-toggle-filter" style="min-width: max-content;">Hide Filter</span>
              <hr class="w-100">
            </div>
          </div>

          <div id="filter-1" class="sidebar-item mb-4">
            <h6 for="layout" class="sidebar-title">View Layout</h6>
            <select name="layout" id="layout" class="form-control">
              <option value="grid">Grid</option>
              <option value="list">List</option>
            </select>
          </div>

          <form id="filter-2" action="/members" method="get">
            <h6 for="layout" class="sidebar-title">Filter</h6>
            <div class="sidebar-item">
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Cari berdasarkan email"
                  name="email"
                  value="<%= email %>"
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  class="form-control"
                  placeholder="Cari berdasarkan nama"
                  name="nama"
                  value="<%= nama %>"
                />
              </div>
              <div class="form-group">
                <select name="status" id="status" class="form-control">
                  <option value="">Cari berdasarkan status</option>
                  <option
                  <%= status === 'active' ? 'selected' : '' %>
                    value="active"
                  >
                    Active
                  </option>
                  <option
                  <%= status === 'inactive' ? 'selected' : '' %>
                    value="inactive"
                  >
                    Inactive
                  </option>
                </select>
              </div>
              <button class="theme-btn-sm w-100" type="submit">Cari</button>
              <a href="/members" class="theme-btn-sm bg-info text-center w-100 mt-2" type="submit">Reset</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  <!-- end wpo-team-section -->

  <!-- stert wpo-social-section -->
  <%- include('../components/partials/home/social') %>
  <!-- end wpo-social-section -->

  <!-- start of wpo-site-footer-section -->
  <%- include('../components/ui/footer.ejs') %>
  <!-- end of wpo-site-footer-section -->
</div>
